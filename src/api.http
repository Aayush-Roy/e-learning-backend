
### 35. api.http (for testing with REST clients)
```http
# Udemy Clone Backend API Testing
# Use with REST Client extension in VS Code or import into Postman

### Health Check
GET https://e-learning-backend-flax.vercel.app/api/v1/health

### Register a new student
# POST http://localhost:5000/api/v1/auth/register
POST http://localhost:5000/api/v1/auth/register
Content-Type: application/json

{
  "name": "John Student",
  "email": "student5@example.com",
  "password": "password123",
  "role": "student"
}

### Register a new instructor
POST http://localhost:5000/api/v1/auth/register
Content-Type: application/json

{
  "name": "Jane Instructor",
  "email": "instructor@example.com",
  "password": "password123",
  "role": "instructor"
}

### Login
POST http://localhost:5000/api/v1/auth/login
Content-Type: application/json

{
  "email": "aayush@gmail.com",
  "password": "123456"
}

### Get current user profile
GET http://localhost:5000/api/v1/auth/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU0ODExZTc3YmYwYzc4ZmEyNjI4MSIsImlhdCI6MTc2Njc0MjMzOSwiZXhwIjoxNzY3MzQ3MTM5fQ.FV5bh3PhJu6ZEjep0KB_x41Eqq5igVDCN4pAnJLpuI4
### Get all courses (public)
GET http://localhost:5000/api/v1/courses

### Get courses with filters
GET http://localhost:5000/api/v1/courses?category=web%20development&level=beginner

### Get single course
GET http://localhost:5000/api/v1/courses/694e58bebe84e8baa32ec2c9

### Create a new course (instructor only)
# POST http://localhost:5000/api/v1/courses
# Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGNlYzBmZDJiNjJhOTFmYjU5OTkxMCIsImlhdCI6MTc2NjY0ODg0NywiZXhwIjoxNzY3MjUzNjQ3fQ.SOyV_n1kmpYuhttzkpBOncrdPbo4-mms_8B6WpLwni0
# Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="title"

# Complete Node.js Bootcamp
# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="description"

# Learn Node.js from scratch with real-world projects...
# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="price"

# 49.99
# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="category"

# web development
# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="level"

# beginner
# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="thumbnail"; filename="thumbnail.jpg"
# Content-Type: image/jpeg

# < ./path-to-thumbnail.jpg
# ------WebKitFormBoundary7MA4YWxkTrZu0gW--

POST http://localhost:5000/api/v1/courses
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU1ODg4YmU4NGU4YmFhMzJlYzJjNiIsImlhdCI6MTc2Njc0MjE1MywiZXhwIjoxNzY3MzQ2OTUzfQ.xJJUaQqPTJQa4MlAkQ-P9YjCQ9vFVvuGVsORPYLtF2o
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary

------WebKitFormBoundary
Content-Disposition: form-data; name="title"

Complete MERN Full Stack Bootcamp
------WebKitFormBoundary
Content-Disposition: form-data; name="description"

Learn MERN Stack from scratch with real-world projects
------WebKitFormBoundary
Content-Disposition: form-data; name="price"

79.99
------WebKitFormBoundary
Content-Disposition: form-data; name="category"

web development
------WebKitFormBoundary
Content-Disposition: form-data; name="level"

beginner
------WebKitFormBoundary
Content-Disposition: form-data; name="thumbnail"; filename="thumbnail.jpg"
Content-Type: image/jpeg

< ./uploads/thumbnail2.jpg
------WebKitFormBoundary
Content-Disposition: form-data; name="video"; filename="intro.mp4"
Content-Type: video/mp4

< ./uploads/intro.mp4
------WebKitFormBoundary--


### Get course lectures
GET http://localhost:5000/api/v1/lectures/course/694e58bebe84e8baa32ec2c9

### Create a lecture (instructor only)
POST http://localhost:5000/api/v1/lectures/course/694e58bebe84e8baa32ec2c9
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU1ODg4YmU4NGU4YmFhMzJlYzJjNiIsImlhdCI6MTc2Njc0MjE1MywiZXhwIjoxNzY3MzQ2OTUzfQ.xJJUaQqPTJQa4MlAkQ-P9YjCQ9vFVvuGVsORPYLtF2o
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Introduction to HTTP Architecture
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="description"

Learn the basics of HTTP and its architecture
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="duration"

5
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="isPreview"

true
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="position"

2
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="video"; filename="lecture1.mp4"
Content-Type: video/mp4

< ./uploads/lecture1.mp4
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Create payment intent
POST http://localhost:5000/api/v1/payments/create-checkout
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU0ODExZTc3YmYwYzc4ZmEyNjI4MSIsImlhdCI6MTc2Njc0MjMzOSwiZXhwIjoxNzY3MzQ3MTM5fQ.FV5bh3PhJu6ZEjep0KB_x41Eqq5igVDCN4pAnJLpuI4
Content-Type: application/json

{
  "courseId": "694e58bebe84e8baa32ec2c9"
}

### Verify payment
POST http://localhost:5000/api/v1/payments/verify
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU0ODExZTc3YmYwYzc4ZmEyNjI4MSIsImlhdCI6MTc2Njc0MjMzOSwiZXhwIjoxNzY3MzQ3MTM5fQ.FV5bh3PhJu6ZEjep0KB_x41Eqq5igVDCN4pAnJLpuI4
Content-Type: application/json

{
  "paymentIntentId": "pi_3SiY1PQMXMkq3TW20JaANBUf"
}

### Get my payments
GET http://localhost:5000/api/v1/payments/my-payments
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU0ODExZTc3YmYwYzc4ZmEyNjI4MSIsImlhdCI6MTc2Njc0MjMzOSwiZXhwIjoxNzY3MzQ3MTM5fQ.FV5bh3PhJu6ZEjep0KB_x41Eqq5igVDCN4pAnJLpuI4

### Add course review (student only)
POST http://localhost:5000/api/v1/courses/694e58bebe84e8baa32ec2c9/reviews
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NGU0ODExZTc3YmYwYzc4ZmEyNjI4MSIsImlhdCI6MTc2Njc0MjMzOSwiZXhwIjoxNzY3MzQ3MTM5fQ.FV5bh3PhJu6ZEjep0KB_x41Eqq5igVDCN4pAnJLpuI4
Content-Type: application/json

{
  "rating": 5,
  "comment": "Excellent course! Learned a lot."
}

### Get course reviews
GET http://localhost:5000/api/v1/courses/COURSE_ID_HERE/reviews

### Update lecture progress
PUT http://localhost:5000/api/v1/lectures/LECTURE_ID_HERE/progress
Authorization: Bearer STUDENT_TOKEN_HERE
Content-Type: application/json

{
  "completed": true
}

### Get instructor courses
GET http://localhost:5000/api/v1/courses/instructor/my-courses
Authorization: Bearer INSTRUCTOR_TOKEN_HERE

### Get user enrollments
GET http://localhost:5000/api/v1/users/USER_ID_HERE/enrollments
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5NTY1YzAwNTg0NThhYmM4ZmM2NTBkNiIsImlhdCI6MTc2NzMyODM4NywiZXhwIjoxNzY3OTMzMTg3fQ.zsXmSIT6QbViCeV9W2sJZtoBv4z7xFBnbDqJ53UxVx8

### Change password
PUT http://localhost:5000/api/v1/auth/change-password
Authorization: Bearer TOKEN_HERE
Content-Type: application/json

{
  "currentPassword": "oldpassword",
  "newPassword": "newpassword123"
}